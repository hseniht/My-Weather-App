<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Tk's Weather App -- Metapair test</title>
  </head>
  <body>

    <h1>Weather App</h1>
    <h2 id="demo"></h2>
    <p id="city"></p>
    <!-- <p id="icon"></p> -->
    <img src="" id="icon" alt="clouds" width="42" height="42"> <br>

    <form id="tksForm">
      <input id="inputCity" name="inputCity" type="text" placeholder="State"><br>
      <input type="submit" value="Submit">

    </form>

    <script>
      console.log("hey");

      //var url = "https://fcc-weather-api.glitch.me/";
      // var url = "https://fcc-weather-api.glitch.me/api/current?lat=35&lon=139";

      var url = "http://api.wunderground.com/api/01b9b81dafc29556/conditions/q/CA/San_Francisco.json";


      fetch(url).then(function(response) {
        return response.json();
      }).then(function(data) {
        console.log(data);
        console.log(data.current_observation.icon);
        console.log(data.current_observation.display_location.full);

        let text = data.current_observation.icon;
        let city = data.current_observation.display_location.city;
        let icon = data.current_observation.icon_url;


        document.getElementById("demo").textContent = text;
        document.getElementById("city").innerHTML = city;
        document.getElementById("icon").src = icon;

      }).catch(function() {
        console.log("No request. Invalid apis ");
      });

//event listener

      document.getElementById('tksForm').addEventListener('submit', validate);


      // console.log("hey its input city here");

      function validate(e){

        var inputCity = document.getElementById("inputCity").value;

        console.log(inputCity,"after inputCity");

        //prevent form from submitting
        e.preventDefault();
      }

    </script>
  </body>
</html>
